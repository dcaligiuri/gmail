{"version":3,"file":"js-native-preset.js","sourceRoot":"","sources":["../../../../../src/lib/plugins/js-native/presets/js-native-preset.ts"],"names":[],"mappings":";;;;;AAEA,OAAO,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAEjC,OAAO,EAEL,2BAA2B,EAC5B,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,qBAAqB,EAAE,MAAM,6BAA6B,CAAC;AAEpE;IAA2C,yCAAiD;IAE1F,+BAAY,KAAY,EAAE,UAAwB;eAChD,kBAAW,EAAC,KAAK,OAAA,EAAE,UAAU,YAAA,EAAC,CAAC;IACjC,CAAC;IAED;;;OAGG;IACO,4CAAY,GAAtB,UAAuB,MAA4B;QACjD,MAAM,CAAC,EAAE,CAAC;IACZ,CAAC;IAED;;;;OAIG;IACH,oCAAI,GAAJ,UAAK,aAAgC;QACnC,IAAI,OAAO,GAAyB,IAAI,CAAC,MAAM,EAAE,CAAC;QAElD,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,CAAC;YACtC,MAAM,CAAM,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC,CAAC;QACvF,CAAC;QAED,IAAI,aAAa,GAAkB;YACjC,OAAO,EAAE,OAAO;YAChB,QAAQ,EAAE,IAAI,qBAAqB,EAAE;YACrC,aAAa,EAAE,aAAa;YAC5B,QAAQ,EAAE,OAAO,IAAI,CAAC,YAAY,KAAK,UAAU,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;SAChF,CAAC;QAEF,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;IAC9D,CAAC;IACH,4BAAC;AAAD,CAAC,AAnCD,CAA2C,2BAA2B,GAmCrE","sourcesContent":["import { ViewContainerRef, ResolvedReflectiveProvider } from '@angular/core';\nimport { DialogRef, DROP_IN_TYPE, OverlayConfig } from 'angular2-modal';\nimport { Modal } from '../modal';\n\nimport {\n  JSNativeModalContext,\n  JSNativeModalContextBuilder\n} from '../modal-context';\nimport { JSNativeModalRenderer } from '../js-native-modal-renderer';\n\nexport class JSNativePresetBuilder extends JSNativeModalContextBuilder<JSNativeModalContext> {\n\n  constructor(modal: Modal, dialogType: DROP_IN_TYPE) {\n    super(<any>{modal, dialogType});\n  }\n\n  /**\n   * Hook to alter config and return bindings.\n   * @param config\n   */\n  protected $$beforeOpen(config: JSNativeModalContext): ResolvedReflectiveProvider[] {\n    return [];\n  }\n\n  /**\n   * Open a modal window based on the configuration of this config instance.\n   * @param viewContainer If set opens the modal inside the supplied viewContainer\n   * @returns Promise<DialogRef>\n   */\n  open(viewContainer?: ViewContainerRef): Promise<DialogRef<JSNativeModalContext>> {\n    let context: JSNativeModalContext = this.toJSON();\n\n    if (!(context.modal instanceof Modal)) {\n      return <any>Promise.reject(new Error('Configuration Error: modal service not set.'));\n    }\n\n    let overlayConfig: OverlayConfig = {\n      context: context,\n      renderer: new JSNativeModalRenderer(),\n      viewContainer: viewContainer,\n      bindings: typeof this.$$beforeOpen === 'function' && this.$$beforeOpen(context)\n    };\n\n    return context.modal.open(context.component, overlayConfig);\n  }\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}