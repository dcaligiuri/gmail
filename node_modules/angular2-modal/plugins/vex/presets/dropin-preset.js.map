{"version":3,"file":"dropin-preset.js","sourceRoot":"","sources":["../../../../../src/lib/plugins/vex/presets/dropin-preset.ts"],"names":[],"mappings":";;;;;AACA,OAAO,EACL,YAAY,EAEZ,MAAM,EACP,MAAM,gBAAgB,CAAC;AAExB,OAAO,EAAE,eAAe,IAAI,SAAS,EAAE,UAAU,IAAI,OAAO,EAAE,MAAM,sBAAsB,CAAC;AAC3F,OAAO,EAAE,YAAY,EAAE,mBAAmB,EAAE,MAAM,iBAAiB,CAAC;AAEpE,IAAM,cAAc,GAAG;IACrB,SAAS,WAAA;IACT,OAAO,SAAA;IACP,KAAK,EAAE,IAAI;IACX,SAAS,EAAE,QAAQ;CACpB,CAAC;AAEF,IAAM,eAAe,GAAG;IACtB,OAAO;IACP,WAAW;IACX,aAAa;CACd,CAAC;AAEF;;GAEG;AACH;IAAkC,gCAAY;IAA9C;;IAgCA,CAAC;IAHC,sBAAI,mCAAS;aAAb;YACE,MAAM,CAAC,IAAI,CAAC,UAAU,KAAK,YAAY,CAAC,MAAM,CAAC;QACjD,CAAC;;;OAAA;IACH,mBAAC;AAAD,CAAC,AAhCD,CAAkC,YAAY,GAgC7C;;AAED;;GAEG;AACH;IAAyC,uCAAiC;IAuBxE,6BAAY,KAAY,EAAE,UAAwB,EAAE,aAAuC;QAAvC,8BAAA,EAAA,yBAAuC;eACzF,kBACE,KAAK,EACL,MAAM,CAAM,MAAM,CAAC,EAAC,KAAK,OAAA,EAAE,UAAU,YAAA,EAAC,EAAE,cAAc,CAAC,EAAE,aAAa,IAAI,EAAE,CAAC,EAC7E,eAAe,EACf,YAAY,CACb;IACH,CAAC;IAED,0CAAY,GAAZ,UAAa,MAAoB;QAC/B,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACjC,CAAC;QAED,MAAM,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;YAC1B,KAAK,YAAY,CAAC,MAAM;gBACtB,MAAM,CAAC,aAAa,GAAG,SAAS,CAAC;YACnC,KAAK,YAAY,CAAC,OAAO;gBACvB,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;oBACrB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACzC,CAAC;gBACD,KAAK,CAAC;QACV,CAAC;QACD,MAAM,CAAC,iBAAM,YAAY,YAAC,MAAM,CAAC,CAAC;IACpC,CAAC;IACH,0BAAC;AAAD,CAAC,AAhDD,CAAyC,mBAAmB,GAgD3D","sourcesContent":["import { ResolvedReflectiveProvider } from '@angular/core';\nimport {\n  DROP_IN_TYPE,\n  FluentAssignMethod,\n  extend\n} from 'angular2-modal';\nimport { Modal } from '../modal';\nimport { DialogFormModal as component, FormDropIn as content } from '../dialog-form-modal';\nimport { DialogPreset, DialogPresetBuilder } from './dialog-preset';\n\nconst DEFAULT_VALUES = {\n  component,\n  content,\n  okBtn: 'OK',\n  cancelBtn: 'Cancel'\n};\n\nconst DEFAULT_SETTERS = [\n  'okBtn',\n  'cancelBtn',\n  'placeholder'\n];\n\n/**\n * Data definition\n */\nexport class DropInPreset extends DialogPreset {\n\n  /**\n   * the message to display on the modal.\n   */\n  message: string;\n\n  /**\n   * OK button caption.\n   * Default: OK\n   * Set to false ('', undefined, null, false) to remove button.\n   */\n  okBtn: string;\n\n  /**\n   * Cancel button caption.\n   * Default: Cancel\n   * Set to false ('', undefined, null, false) to remove button.\n   */\n  cancelBtn: string;\n\n  /**\n   * A placeholder for the input element.\n   * Valid only for prompt modal.\n   */\n  placeholder: string;\n\n  dropInType: DROP_IN_TYPE;\n\n  get showInput(): boolean {\n    return this.dropInType === DROP_IN_TYPE.prompt;\n  }\n}\n\n/**\n * A Preset representing all 3 drop ins (alert, prompt, confirm)\n */\nexport class DropInPresetBuilder extends DialogPresetBuilder<DropInPreset> {\n\n  /**\n   * the message to display on the modal.\n   */\n  message: FluentAssignMethod<string, this>;\n\n  /**\n   * The default Ok button caption.\n   */\n  okBtn: FluentAssignMethod<string, this>;\n\n  /**\n   * The default Cancel button caption.\n   */\n  cancelBtn: FluentAssignMethod<string, this>;\n\n  /**\n   * A placeholder for the input element.\n   * Valid only for prompt modal.\n   */\n  placeholder: FluentAssignMethod<string, this>;\n\n  constructor(modal: Modal, dropInType: DROP_IN_TYPE, defaultValues: DropInPreset = undefined) {\n    super(\n      modal,\n      extend<any>(extend({modal, dropInType}, DEFAULT_VALUES), defaultValues || {}),\n      DEFAULT_SETTERS,\n      DropInPreset\n    );\n  }\n\n  $$beforeOpen(config: DropInPreset): ResolvedReflectiveProvider[] {\n    if (config.okBtn) {\n      this.addOkButton(config.okBtn);\n    }\n\n    switch (config.dropInType) {\n      case DROP_IN_TYPE.prompt:\n        config.defaultResult = undefined;\n      case DROP_IN_TYPE.confirm:\n        if (config.cancelBtn) {\n          this.addCancelButton(config.cancelBtn);\n        }\n        break;\n    }\n    return super.$$beforeOpen(config);\n  }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}